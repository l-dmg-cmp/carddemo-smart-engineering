
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00017-COCRDUPC_cbl</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1º de outubro de 2024</p>
<p><strong>Título do Documento:</strong> Especificação do Programa de Atualização de Detalhes de Cartão de Crédito</p>
<p><strong>Descrição Resumida:</strong>
Este programa fornece uma interface segura para pessoal autorizado visualizar e atualizar detalhes de cartão de crédito armazenados em um sistema financeiro maior. Ele prioriza a integridade dos dados por meio de mecanismos de validação de entrada e controle de concorrência.</p>
<p><strong>Histórias do Usuário:</strong>
Como analista de crédito, preciso visualizar e atualizar os detalhes do cartão de crédito com segurança para garantir que as informações que mantemos sejam precisas e atuais.</p>
<p><strong>Épico Relacionado:</strong> 3 - Gestão de Cartão de Crédito</p>
<p><strong>Requisitos Técnicos:</strong></p>
<ul>
<li><strong>Tratamento de Solicitações:</strong>
<ul>
<li>O programa recebe solicitações para visualizar ou atualizar detalhes do cartão de crédito.</li>
<li>As solicitações originam-se de terminais de usuário ou sistemas autorizados.</li>
</ul>
</li>
<li><strong>Recuperação de Dados:</strong>
<ul>
<li>Lê registros de cartão de crédito de um banco de dados com base no <code>account number</code> e <code>card number</code>.</li>
<li>Utiliza o arquivo VSAM <code>CARDDAT</code> para armazenamento de dados.</li>
<li>Emprega comandos CICS para interação com arquivos.</li>
</ul>
</li>
<li><strong>Validação de Entrada:</strong>
<ul>
<li>Account Number: Numérico, 11 dígitos.</li>
<li>Card Number: Numérico, 16 dígitos.</li>
<li>Cardholder Name: Caracteres alfabéticos e espaços apenas.</li>
<li>Card Status: ‘Y’ (ativo) ou ‘N’ (inativo).</li>
<li>Expiry Date: Data válida no futuro (MM/AA).</li>
</ul>
</li>
<li><strong>Processamento de Atualização:</strong>
<ul>
<li>Atualiza registros de cartão de crédito existentes no banco de dados.</li>
<li>Implementa bloqueio de registro durante atualizações para evitar problemas de concorrência.</li>
<li>Utiliza comandos CICS para bloqueio e atualização de registros.</li>
</ul>
</li>
<li><strong>Confirmação e Feedback:</strong>
<ul>
<li>Fornece mensagens de feedback ao usuário indicando o sucesso ou falha da operação.</li>
<li>As mensagens de erro fornecem detalhes específicos sobre falhas de validação ou erros de banco de dados.</li>
</ul>
</li>
<li><strong>Segurança:</strong>
<ul>
<li>Autenticação: verifica as credenciais do usuário e a autorização antes de conceder acesso a dados confidenciais.
<ul>
<li>Utiliza recursos de segurança CICS para autenticação e autorização do usuário.</li>
</ul>
</li>
<li>Criptografia de Dados: criptografa dados confidenciais em trânsito e em repouso para evitar acesso não autorizado.
<ul>
<li>Aproveita os mecanismos de criptografia em nível de sistema ou software de criptografia especializado.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Trilha de Auditoria:</strong>
<ul>
<li>Registra todas as ações de atualização para fins de auditoria e rastreamento.
<ul>
<li>Registra ID do usuário, registro de data e hora, campos de dados modificados e valores antigos/novos.</li>
<li>Emprega um mecanismo de registro separado ou integra-se a um sistema centralizado de registro de auditoria.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Tratamento de Erros:</strong>
<ul>
<li>Implementa tratamento de erros robusto para lidar normalmente com condições inesperadas.</li>
<li>Registra erros com níveis de severidade apropriados e mensagens descritivas.</li>
<li>Exibe mensagens de erro amigáveis ao usuário, fornecendo orientação para resolução.</li>
</ul>
</li>
<li><strong>Desempenho:</strong>
<ul>
<li>Otimiza a recuperação de dados, validação e processos de atualização para tratamento eficiente de altos volumes de transações.</li>
<li>Utiliza técnicas de indexação apropriadas e parâmetros de ajuste de banco de dados para melhorar o desempenho.</li>
</ul>
</li>
<li><strong>Manutenibilidade:</strong>
<ul>
<li>Adere aos padrões de codificação COBOL e melhores práticas para legibilidade e manutenção.</li>
<li>Implementa princípios de design modular para facilitar as atualizações e melhorias de código.</li>
</ul>
</li>
<li><strong>Dependências:</strong>
<ul>
<li>CICS (Customer Information Control System)</li>
<li>VSAM (Virtual Storage Access Method)</li>
<li>COBOL Compiler and Runtime Environment</li>
<li>Mecanismos de segurança em nível de sistema ou software de criptografia</li>
<li>Sistema centralizado de registro de auditoria (opcional)</li>
</ul>
</li>
</ul>
<p><strong>Modelos Relacionados:</strong></p>
<ul>
<li><code>CARD-RECORD</code>:
<ul>
<li><code>CARD-ACCT-ID</code>: Numeric(11), Account number.</li>
<li><code>CARD-CARD-NUM</code>: Numeric(16), Credit card number.</li>
<li><code>CARD-CVV-CD</code>: Numeric(3), Card Verification Value (CVV).</li>
<li><code>CARD-NAME-EMBOSSED</code>: Alphanumeric(50), Cardholder’s name.</li>
<li><code>CARD-EXPIRAION-DATE</code>: Alphanumeric(10), Expiration date (MM/YY).</li>
<li><code>CARD-ACTIVE-STATUS</code>: Alphanumeric(1), Card status (‘Y’ or ‘N’).</li>
</ul>
</li>
</ul>
<p><strong>Configurações:</strong></p>
<ul>
<li><code>LIT-CARDFILENAME</code>:  Nome do arquivo para o arquivo de dados do cartão de crédito (<code>CARDDAT</code>).</li>
<li>Mensagens de erro e códigos de resposta:
<ul>
<li><code>DID-NOT-FIND-ACCTCARD-COMBO</code>: “Cartões não encontrados para esta condição de pesquisa.”</li>
<li><code>COULD-NOT-LOCK-FOR-UPDATE</code>: “Não foi possível bloquear o registro para atualização.”</li>
<li><code>DATA-WAS-CHANGED-BEFORE-UPDATE</code>: “Registro alterado por outra pessoa. Por favor, revise.”</li>
<li><code>LOCKED-BUT-UPDATE-FAILED</code>: “Falha na atualização do registro.”</li>
</ul>
</li>
</ul>
<p><strong>Melhorias de Código:</strong></p>
<ul>
<li>Implementar uma rotina centralizada de tratamento de erros para registro consistente e feedback ao usuário.</li>
<li>Adicionar comentários para esclarecer a lógica de negócios complexa e melhorar a legibilidade do código.</li>
<li>Usar nomes de dados significativos para aumentar a compreensão e manutenção do código.</li>
<li>Considere o uso de um formatador de código para aplicar um estilo de codificação consistente e melhorar a legibilidade do código.</li>
</ul>
<p><strong>Melhorias de Segurança:</strong></p>
<ul>
<li>Implementar sanitização de entrada para evitar ataques de injeção.</li>
<li>Mascarar informações confidenciais como números de cartão de crédito e códigos CVV ao exibi-los aos usuários.</li>
<li>Impor políticas de senha forte para contas de usuário com acesso ao sistema.</li>
<li>Revisar e atualizar regularmente as medidas de segurança para lidar com novas vulnerabilidades e ameaças.</li>
</ul>
<p><strong>Diagrama Conceitual:</strong></p>
<img src="00017-COCRDUPC_cbl_diagram_1.svg" alt="Mermaid Diagram 1" style="max-width: 100%; height: auto;"><p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
