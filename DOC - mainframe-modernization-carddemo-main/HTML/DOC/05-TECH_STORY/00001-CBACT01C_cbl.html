
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00001-CBACT01C_cbl</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1º de outubro de 2024</p>
<p><strong>Título do Documento:</strong> CardDemo Application - Especificação do Programa de Processamento em Lote de Dados de Conta</p>
<p><strong>Descrição Resumida:</strong></p>
<p>Este documento descreve as especificações técnicas para o programa <code>CBACT01C</code>, uma aplicação de processamento em lote COBOL projetada para ler, validar e exibir dados de contas de cartão de crédito de um arquivo VSAM KSDS. O programa processa sequencialmente os registros da conta, realiza verificações de validação de dados e envia a informação processada para a tela.</p>
<p><strong>Histórias do Usuário:</strong></p>
<p>Como analista de dados, preciso de um programa que possa ler e exibir informações de contas de cartão de crédito de um arquivo seguro para que eu possa verificar a precisão e integridade dos dados.</p>
<p><strong>Epic Relacionado:</strong> 7 - Processamento em Lote</p>
<p><strong>Requisitos Técnicos:</strong></p>
<ol>
<li>
<p><strong>Manipulação de Arquivos:</strong></p>
<ul>
<li>O programa lê dados de um arquivo VSAM KSDS chamado <code>ACCTFILE</code>.</li>
<li>O arquivo é acessado sequencialmente.</li>
<li>A chave de registro para o arquivo é <code>FD-ACCT-ID</code>.</li>
</ul>
</li>
<li>
<p><strong>Validação de Dados:</strong></p>
<ul>
<li>O programa inclui tratamento de erros para operações de arquivo.</li>
<li>O programa verifica o status do arquivo após cada operação de E/S no arquivo <code>ACCTFILE</code> usando a variável <code>ACCTFILE-STATUS</code>.</li>
<li>Se o status do arquivo não for <code>00</code> (sucesso), o programa exibe uma mensagem de erro e é finalizado anormalmente.</li>
</ul>
</li>
<li>
<p><strong>Processamento de Dados:</strong></p>
<ul>
<li>O programa lê cada registro do arquivo de entrada na estrutura de dados <code>ACCOUNT-RECORD</code>.</li>
<li>O programa exibe o conteúdo de cada registro no console.</li>
</ul>
</li>
<li>
<p><strong>Tratamento de Erros:</strong></p>
<ul>
<li>O programa usa a variável <code>ACCTFILE-STATUS</code> para verificar se há erros durante as operações do arquivo.</li>
<li>Se ocorrer um erro, o programa exibe uma mensagem de erro no console.</li>
<li>O programa usa um parágrafo de tratamento de erro genérico (<code>9999-ABEND-PROGRAM</code>) para finalizar o programa anormalmente em caso de erros graves.</li>
</ul>
</li>
<li>
<p><strong>Saída:</strong></p>
<ul>
<li>O programa exibe os dados da conta processados no console.</li>
<li>Os dados de cada registro são exibidos em um formato amigável com rótulos.</li>
</ul>
</li>
</ol>
<p><strong>Modelos Relacionados</strong></p>
<ul>
<li><strong><code>ACCOUNT-RECORD</code>:</strong> Representa um único registro no arquivo <code>ACCTFILE</code>.
<ul>
<li><code>ACCT-ID</code> (PIC 9(11)): Identificador da conta.</li>
<li><code>ACCT-ACTIVE-STATUS</code>: Status da conta (por exemplo, ativa, encerrada).</li>
<li><code>ACCT-CURR-BAL</code>: Saldo atual da conta.</li>
<li><code>ACCT-CREDIT-LIMIT</code>: Limite de crédito da conta.</li>
<li><code>ACCT-CASH-CREDIT-LIMIT</code>: Limite de crédito em dinheiro da conta.</li>
<li><code>ACCT-OPEN-DATE</code>: Data de abertura da conta.</li>
<li><code>ACCT-EXPIRAION-DATE</code>: Data de expiração da conta.</li>
<li><code>ACCT-REISSUE-DATE</code>: Data da última reemissão da conta.</li>
<li><code>ACCT-CURR-CYC-CREDIT</code>: Crédito do ciclo atual.</li>
<li><code>ACCT-CURR-CYC-DEBIT</code>: Débito do ciclo atual.</li>
<li><code>ACCT-GROUP-ID</code>: Identificador do grupo da conta.</li>
</ul>
</li>
</ul>
<p><strong>Configurações:</strong></p>
<ul>
<li><code>ACCTFILE</code>: Esta configuração especifica os detalhes do arquivo de dados da conta, incluindo seu nome, caminho e layout de registro.
<ul>
<li><code>ASSIGN TO</code>: <code>ACCTFILE</code></li>
<li><code>ORGANIZATION IS</code>: <code>INDEXED</code></li>
<li><code>ACCESS MODE IS</code>: <code>SEQUENTIAL</code></li>
<li><code>RECORD KEY IS</code>: <code>FD-ACCT-ID</code></li>
</ul>
</li>
</ul>
<p><strong>Melhorias de Código:</strong></p>
<ul>
<li><strong>Registro Detalhado de Erros:</strong> Implemente um mecanismo de registro de erros mais robusto que inclua a data e hora, os códigos de erro e os dados relevantes para auxiliar na depuração e resolução de problemas. Em vez de apenas exibir a mensagem de erro, escreva-a em um arquivo de log.</li>
<li><strong>Flexibilidade de Configuração:</strong> Externalize configurações como caminhos de arquivo e nomes para melhorar a manutenção. Isso permite alterações no sistema de arquivos ou ambiente sem modificar o código do programa.</li>
<li><strong>Modularização:</strong> Divida o programa em módulos ou sub-rotinas menores e reutilizáveis para melhorar a organização e legibilidade do código. Por exemplo, separe a lógica de manipulação de arquivos da lógica de processamento e exibição de dados.</li>
<li><strong>Adote um estilo de codificação estruturado</strong>: Melhore a legibilidade e a manutenção do código usando nomes de variáveis significativos, adicionando comentários para explicar a lógica complexa e seguindo um estilo de codificação consistente.</li>
</ul>
<p><strong>Melhorias de Segurança:</strong></p>
<ul>
<li><strong>Controle de Acesso:</strong> Implemente controles de acesso rígidos no <code>ACCTFILE</code> para evitar acesso não autorizado e possíveis violações de dados. Isso pode envolver o uso de permissões do sistema de arquivos ou um software de segurança para restringir o acesso apenas ao pessoal autorizado.</li>
<li><strong>Criptografia de Dados:</strong> Considere criptografar os dados confidenciais no <code>ACCTFILE</code>, especialmente se ele contiver informações de identificação pessoal (PII) ou dados financeiros. A criptografia pode ser aplicada no nível do arquivo ou do campo.</li>
<li><strong>Registro de Auditoria:</strong> Implemente o registro de auditoria para rastrear todo o acesso e modificações feitas no <code>ACCTFILE</code>. Este log deve registrar o ID do usuário, a data e hora e as ações específicas executadas no arquivo, que podem ser usadas para auditoria de segurança e fins de conformidade.</li>
</ul>
<p><strong>Diagrama Conceitual:</strong></p>
<img src="00001-CBACT01C_cbl_diagram_1.svg" alt="Mermaid Diagram 1" style="max-width: 100%; height: auto;"><p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
