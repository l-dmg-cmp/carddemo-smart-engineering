
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00018-COMEN01C_cbl</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1º de outubro de 2024</p>
<p><strong>Título do Documento:</strong> Especificação de Navegação do Menu Principal da Aplicação CardDemo</p>
<p><strong>Descrição Resumida:</strong>
Este documento detalha a funcionalidade do programa <code>COMEN01C</code>, o menu principal para usuários regulares no aplicativo CardDemo. Ele apresenta aos usuários um menu de opções, lida com suas seleções e os direciona para os módulos de programa apropriados.</p>
<p><strong>Histórias do Usuário:</strong>
Como um usuário regular, quero ver um menu de ações disponíveis após o login para que eu possa navegar e usar facilmente o aplicativo CardDemo.</p>
<p><strong>Épico Relacionado:</strong> 6 - Gerenciamento de Usuários e Segurança</p>
<p><strong>Requisitos Técnicos:</strong></p>
<ul>
<li><strong>Exibição e Navegação do Menu:</strong>
<ul>
<li>O programa exibe um menu de opções numeradas para o usuário.</li>
<li>As opções do menu são preenchidas dinamicamente com base no tipo de usuário (regular ou administrador).</li>
<li>O usuário pode selecionar uma opção digitando o número correspondente.</li>
<li>O programa valida a entrada do usuário para garantir que seja uma opção de menu válida.</li>
</ul>
</li>
<li><strong>Tratamento de Opções:</strong>
<ul>
<li>Cada opção do menu corresponde a um módulo de programa específico no aplicativo CardDemo.</li>
<li>Após a seleção do usuário, o programa transfere o controle para o módulo do programa selecionado.</li>
<li>O programa passa dados relevantes, como ID do usuário e contexto do programa, para o módulo de destino.</li>
</ul>
</li>
<li><strong>Tratamento de Erros:</strong>
<ul>
<li>O programa exibe mensagens de erro apropriadas se o usuário inserir uma entrada inválida.</li>
<li>O programa lida normalmente com erros durante a execução do programa e exibe mensagens informativas para o usuário.</li>
</ul>
</li>
</ul>
<p><strong>Modelos Relacionados:</strong></p>
<ul>
<li><code>CDEMO-MENU-OPT</code>: Representa uma opção de menu.
<ul>
<li><code>CDEMO-MENU-OPT-NUM</code>: <code>String</code> - O número exibido para a opção do menu.</li>
<li><code>CDEMO-MENU-OPT-NAME</code>: <code>String</code> - O nome descritivo da opção do menu.</li>
<li><code>CDEMO-MENU-OPT-PGMNAME</code>: <code>String</code> -  O nome do módulo do programa associado à opção.</li>
<li><code>CDEMO-MENU-OPT-USRTYPE</code>: <code>String</code> - O tipo de usuário com permissão para acessar esta opção (por exemplo, ‘U’ para usuários regulares, ‘A’ para administradores).</li>
</ul>
</li>
</ul>
<p><strong>Configurações:</strong></p>
<ul>
<li>Opções do Menu: Definidas dentro do programa <code>COMEN01C</code> no parágrafo <code>BUILD-MENU-OPTIONS</code>.
<ul>
<li>Cada opção é definida com um número (<code>CDEMO-MENU-OPT-NUM</code>), nome (<code>CDEMO-MENU-OPT-NAME</code>), nome do programa (<code>CDEMO-MENU-OPT-PGMNAME</code>) e tipo de usuário permitido (<code>CDEMO-MENU-OPT-USRTYPE</code>).</li>
</ul>
</li>
<li>Mensagens do Programa: Armazenadas no copybook <code>CSMSG01Y</code>.</li>
<li>Tipos de Usuário: Definidos como constantes dentro do programa:
<ul>
<li><code>CDEMO-USRTYP-USER</code>: Representa um usuário regular.</li>
<li><code>CDEMO-USRTYP-ADMIN</code>: Representa um administrador.</li>
</ul>
</li>
<li>Layouts de Tela: Definidos no copybook <code>COMEN01</code> para a tela do menu principal.</li>
</ul>
<p><strong>Melhorias de Código:</strong></p>
<ul>
<li><strong>Modularização:</strong> Crie parágrafos separados para validação de entrada, exibição de menu e tratamento de opções para melhorar a organização e legibilidade do código.</li>
<li><strong>Tratamento de Erros:</strong> Implemente uma rotina centralizada de tratamento de erros para fornecer relatórios de erros e registro consistentes.</li>
<li><strong>Documentação:</strong> Adicione comentários para explicar o propósito das variáveis, parágrafos e lógica do programa.</li>
<li><strong>Otimização de Desempenho:</strong> Use verbos e estruturas de dados COBOL mais eficientes quando aplicável. Por exemplo, considere usar <code>SEARCH</code> e <code>SEARCH ALL</code> para pesquisar dentro de tabelas em vez de loops manuais.</li>
</ul>
<p><strong>Melhorias de Segurança:</strong></p>
<ul>
<li><strong>Validação de Entrada:</strong> Implemente uma validação de entrada mais robusta, como verificar o comprimento máximo da entrada e lidar com caracteres especiais, para evitar possíveis vulnerabilidades de injeção.</li>
<li><strong>Autorização:</strong> Antes de transferir o controle para um módulo de programa, verifique novamente a autorização do usuário para acessar essa funcionalidade específica.</li>
<li><strong>Registro:</strong> Registre todas as ações do usuário, incluindo seleções de menu e quaisquer mensagens de erro, para auditoria e análise de segurança.</li>
</ul>
<p><strong>Diagrama Conceitual:</strong></p>
<img src="00018-COMEN01C_cbl_diagram_1.svg" alt="Mermaid Diagram 1" style="max-width: 100%; height: auto;"><p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
