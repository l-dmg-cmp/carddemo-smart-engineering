sequenceDiagram
    participant User
    participant COTRN02C
    participant COTRN2A Screen
    participant CXACAIX File
    participant CCXREF File
    participant TRANSACT File

    activate User
    User->>+COTRN02C: Input Transaction Details
    activate COTRN02C
    COTRN02C->>+COTRN2A Screen: Display Transaction Input Screen
    deactivate COTRN02C
    activate COTRN2A Screen
    COTRN2A Screen->>-User: Display Screen
    User->>+COTRN2A Screen: Enter Transaction Details
    COTRN2A Screen->>+COTRN02C: Submit Transaction Data
    deactivate COTRN2A Screen
    activate COTRN02C
    alt Account ID Validation
        COTRN02C->>+CXACAIX File: Read Account Data
        activate CXACAIX File
        CXACAIX File->>COTRN02C: Return Account Data
        deactivate CXACAIX File
        alt Account ID Not Found
            COTRN02C->>+COTRN2A Screen: Display Error (Invalid Account ID)
        end
    else Card Number Validation
        COTRN02C->>+CCXREF File: Read Card Data
        activate CCXREF File
        CCXREF File->>COTRN02C: Return Card Data
        deactivate CCXREF File
        alt Card Number Not Found
            COTRN02C->>+COTRN2A Screen: Display Error (Invalid Card Number)
        end
    end
    alt Data Validation Failed
        COTRN02C->>+COTRN2A Screen: Display Error Message
    else Data Validation Successful
        COTRN02C->>+TRANSACT File: Generate Transaction ID
        activate TRANSACT File
        TRANSACT File->>COTRN02C: Return New Transaction ID
        deactivate TRANSACT File
        COTRN02C->>+TRANSACT File: Write Transaction Record
        activate TRANSACT File
        TRANSACT File->>COTRN02C: Confirm Write Successful
        deactivate TRANSACT File
        COTRN02C->>+COTRN2A Screen: Display Success Message
    end
    deactivate COTRN02C
    deactivate User