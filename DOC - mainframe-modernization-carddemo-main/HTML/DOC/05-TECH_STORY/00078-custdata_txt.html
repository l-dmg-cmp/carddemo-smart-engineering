
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00078-custdata_txt</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1º de outubro de 2024</p>
<p><strong>Título do Documento:</strong> Programa de Validação e Processamento de Dados do Cliente</p>
<p><strong>Descrição Resumida:</strong>
Este programa valida registros de clientes de um arquivo de texto (<code>custdata.txt</code>) em relação a critérios predefinidos. Os registros válidos são gravados em um arquivo de saída, enquanto os registros inválidos são registrados para revisão. Este processo garante a integridade dos dados para sistemas downstream.</p>
<p><strong>Histórias do Usuário:</strong>
Como analista de dados, preciso garantir que apenas registros de clientes válidos sejam usados para análise e geração de relatórios. Este programa automatizará o processo de validação, economizando tempo e reduzindo erros.</p>
<p><strong>Épico Relacionado:</strong> 8 - Gestão de Dados do Cliente</p>
<p><strong>Requisitos Técnicos:</strong></p>
<ul>
<li><strong>Manipulação de Arquivos:</strong>
<ul>
<li>Ler registros de clientes de um arquivo de texto (<code>custdata.txt</code>).</li>
<li>Gravar registros de clientes válidos em um arquivo de saída (<code>output.txt</code>).</li>
<li>Registrar registros inválidos em um arquivo de erro (<code>error.log</code>).</li>
</ul>
</li>
<li><strong>Validação de Dados:</strong>
<ul>
<li><strong><code>CustomerID</code>:</strong> Validar se o ID do cliente é numérico e está dentro de um intervalo específico (por exemplo, 1 a 100000).</li>
<li><strong><code>FirstName</code>, <code>MiddleName</code>, <code>LastName</code>:</strong> Validar se os nomes contêm apenas caracteres alfabéticos e espaços.</li>
<li><strong><code>StreetAddress</code>, <code>City</code>, <code>State</code>, <code>CountryCode</code>:</strong> Validar o tipo de dados e o comprimento (alfanumérico, caracteres máximos).</li>
<li><strong><code>ZipCode</code>:</strong> Validar o formato com base no <code>CountryCode</code> (por exemplo, 5 dígitos para os EUA, alfanumérico para outros países).</li>
<li><strong><code>PhoneNumber1</code>, <code>PhoneNumber2</code>:</strong> Validar o formato do número de telefone com base no <code>CountryCode</code> (por exemplo, (XXX) XXX-XXXX).</li>
<li><strong><code>CreditCardNumber</code>:</strong> Validar o número do cartão de crédito usando o algoritmo de Luhn.</li>
<li><strong><code>CreditCardExpirationDate</code>:</strong> Validar o formato da data (MM/AA) e garantir que seja uma data futura.</li>
<li><strong><code>InternalCodes</code>:</strong> Validar códigos em relação a uma lista predefinida ou pesquisa em banco de dados.</li>
</ul>
</li>
<li><strong>Tratamento de Erros:</strong>
<ul>
<li>Registrar cada registro inválido no arquivo de erro (<code>error.log</code>) com detalhes sobre a falha de validação.</li>
<li>Implementar um mecanismo para ignorar registros inválidos e continuar processando os registros restantes.</li>
<li>Fornecer estatísticas resumidas ao final do processamento (total de registros processados, registros válidos, registros inválidos).</li>
</ul>
</li>
</ul>
<p><strong>Modelos Relacionados</strong></p>
<ul>
<li><strong><code>Customer</code>:</strong> Representa um registro de cliente.
<ul>
<li><strong><code>CustomerID</code>:</strong> <code>Integer</code> - Identificador exclusivo do cliente.</li>
<li><strong><code>FirstName</code>:</strong> <code>String</code> - Primeiro nome do cliente.</li>
<li><strong><code>MiddleName</code>:</strong> <code>String</code> - Nome do meio do cliente (opcional).</li>
<li><strong><code>LastName</code>:</strong> <code>String</code> - Sobrenome do cliente.</li>
<li><strong><code>StreetAddress</code>:</strong> <code>String</code> - Endereço do cliente.</li>
<li><strong><code>ApartmentNumber</code>:</strong> <code>String</code> - Número do apartamento/sala do cliente (opcional).</li>
<li><strong><code>City</code>:</strong> <code>String</code> - Cidade do cliente.</li>
<li><strong><code>State</code>:</strong> <code>String</code> - Estado do cliente.</li>
<li><strong><code>ZipCode</code>:</strong> <code>String</code> - CEP do cliente.</li>
<li><strong><code>CountryCode</code>:</strong> <code>String</code> - Código do país do cliente.</li>
<li><strong><code>PhoneNumber1</code>:</strong> <code>String</code> - Número de telefone principal do cliente.</li>
<li><strong><code>PhoneNumber2</code>:</strong> <code>String</code> - Número de telefone secundário do cliente (opcional).</li>
<li><strong><code>CreditCardNumber</code>:</strong> <code>String</code> - Número do cartão de crédito do cliente.</li>
<li><strong><code>CreditCardExpirationDate</code>:</strong> <code>Date</code> - Data de validade do cartão de crédito do cliente.</li>
<li><strong><code>InternalCodes</code>:</strong> <code>String</code> - Códigos adicionais para rastreamento interno.</li>
</ul>
</li>
</ul>
<p><strong>Configurações:</strong></p>
<ul>
<li><strong><code>inputFile</code>:</strong> <code>String</code> - Caminho para o arquivo de dados do cliente de entrada (<code>custdata.txt</code>).</li>
<li><strong><code>outputFile</code>:</strong> <code>String</code> - Caminho para o arquivo de saída para registros válidos (<code>output.txt</code>).</li>
<li><strong><code>errorFile</code>:</strong> <code>String</code> - Caminho para o arquivo de log de erros (<code>error.log</code>).</li>
<li><strong><code>dateFormat</code>:</strong> <code>String</code> - Formato de data esperado para <code>CreditCardExpirationDate</code> (MM/AA).</li>
<li><strong><code>creditCardValidation</code>:</strong> <code>Boolean</code> - Sinalizador para ativar/desativar a validação do cartão de crédito usando o algoritmo de Luhn.</li>
<li><strong><code>internalCodesList</code>:</strong> <code>Array</code> - Lista de códigos internos válidos.</li>
<li><strong><code>zipCodeFormats</code>:</strong> <code>Dictionary</code> - Dicionário mapeando códigos de país para seus respectivos formatos de CEP.</li>
</ul>
<p><strong>Melhorias de Código:</strong></p>
<ul>
<li>Implementar uma estrutura de logging para registro de erros estruturado e detalhado.</li>
<li>Usar uma biblioteca de validação de dados dedicada para simplificar as regras de validação e melhorar a legibilidade do código.</li>
<li>Implementar processamento paralelo para validação mais rápida de arquivos grandes.</li>
</ul>
<p><strong>Melhorias de Segurança:</strong></p>
<ul>
<li><strong>Sanitização de Entrada:</strong> Sanitizar todos os dados de entrada para evitar ataques de injeção.</li>
<li><strong>Manipulação Segura de Arquivos:</strong> Garantir práticas seguras de manipulação de arquivos, incluindo permissões de arquivo adequadas e exclusão segura de arquivos temporários confidenciais.</li>
<li><strong>Mascaramento de Dados:</strong> Mascarar ou criptografar dados confidenciais, como números de cartão de crédito, ao registrar erros ou durante a depuração.</li>
<li><strong>Auditorias de Segurança Regulares:</strong> Conduzir auditorias de segurança e revisões de código regulares para identificar e solucionar vulnerabilidades.</li>
</ul>
<p><strong>Diagrama Conceitual:</strong></p>
<img src="00078-custdata_txt_diagram_1.svg" alt="Mermaid Diagram 1" style="max-width: 100%; height: auto;"><p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
