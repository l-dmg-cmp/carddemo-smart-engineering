
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00054-CVTRA06Y_cpy</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1º de outubro de 2024</p>
<p><strong>Título do Documento:</strong> Especificação da Estrutura de Dados do Registro de Transação de Cartão</p>
<p><strong>Descrição Resumida:</strong>
Este documento descreve a estrutura e os elementos de dados do Registro de Transações Diárias (<code>DALYTRAN-RECORD</code>) dentro do Aplicativo CardDemo. Ele serve como uma especificação técnica para desenvolvedores e analistas entenderem o layout e a finalidade de cada campo no registro.</p>
<p><strong>Histórias do Usuário:</strong>
Como analista de dados, preciso de um formato padronizado para registrar as transações diárias de cartão de crédito para que eu possa realizar análises sobre padrões de gastos, rastrear a atividade do comerciante e gerar relatórios.</p>
<p><strong>Épico Relacionado:</strong> 4 - Processamento de Transações</p>
<p><strong>Requisitos Técnicos:</strong></p>
<ul>
<li><strong>Definição da Estrutura de Dados:</strong>
<ul>
<li>A estrutura de dados <code>DALYTRAN-RECORD</code> é definida usando construções da linguagem COBOL.</li>
<li>Cada campo dentro da estrutura tem um tipo de dado específico e comprimento atribuído a ele.</li>
</ul>
</li>
<li><strong>Descrições de Campo:</strong>
<ul>
<li><code>DALYTRAN-ID</code>: Um identificador único para cada transação. Este campo é crucial para rastrear transações individuais e garantir a integridade dos dados. Pode ser uma combinação de data, hora e um número sequencial.</li>
<li><code>DALYTRAN-TYPE-CD</code>: Um código que classifica o tipo de transação. Este código deve aderir a uma lista predefinida de tipos de transação, como ‘PUR’ para compra, ‘REF’ para reembolso, ‘CSH’ para saque em dinheiro, etc.</li>
<li><code>DALYTRAN-CAT-CD</code>: Um código que categoriza a transação com base no tipo de bens ou serviços adquiridos. Este código também deve aderir a uma lista predefinida de categorias, como ‘GROC’ para mantimentos, ‘FUEL’ para combustível, ‘REST’ para restaurante, etc.</li>
<li><code>DALYTRAN-SOURCE</code>: Indica a origem da transação, como ‘ONLINE’, ‘POS’ (Ponto de Venda) ou ‘ATM’.</li>
<li><code>DALYTRAN-DESC</code>: Uma breve descrição da transação. Este campo pode conter informações adicionais sobre a transação, como o produto ou serviço específico adquirido.</li>
<li><code>DALYTRAN-AMT</code>: O valor da transação, armazenado como um valor numérico com duas casas decimais.</li>
<li><code>DALYTRAN-MERCHANT-ID</code>: Um identificador único para o comerciante associado à transação. Este campo vincularia a transação a um banco de dados ou arquivo de comerciante separado.</li>
<li><code>DALYTRAN-MERCHANT-NAME</code>: O nome do comerciante.</li>
<li><code>DALYTRAN-MERCHANT-CITY</code>: A cidade do comerciante.</li>
<li><code>DALYTRAN-MERCHANT-ZIP</code>: O CEP do comerciante.</li>
<li><code>DALYTRAN-CARD-NUM</code>: O número do cartão de crédito usado para a transação. Este campo requer criptografia tanto no armazenamento quanto durante a transmissão para garantir a segurança dos dados.</li>
<li><code>DALYTRAN-ORIG-TS</code>: Um registro de data e hora indicando quando a transação foi iniciada. Este registro de data e hora ajuda a rastrear o ciclo de vida da transação e identificar possíveis problemas.</li>
<li><code>DALYTRAN-PROC-TS</code>: Um registro de data e hora indicando quando a transação foi processada. A diferença entre <code>DALYTRAN-ORIG-TS</code> e <code>DALYTRAN-PROC-TS</code> pode ser usada para analisar os tempos de processamento da transação.</li>
</ul>
</li>
<li><strong>Validação e Integridade de Dados:</strong>
<ul>
<li>O sistema deve implementar regras de validação para garantir a precisão e consistência dos dados em cada campo.</li>
<li>Por exemplo:
<ul>
<li><code>DALYTRAN-TYPE-CD</code> e <code>DALYTRAN-CAT-CD</code> devem ser validados em relação a listas predefinidas de códigos válidos.</li>
<li><code>DALYTRAN-AMT</code> deve ser validado como um valor numérico positivo para compras e um valor negativo para reembolsos.</li>
<li><code>DALYTRAN-CARD-NUM</code> pode ser validado usando um algoritmo de checksum (como o algoritmo de Luhn).</li>
</ul>
</li>
<li>Verificações de integridade de dados, como integridade referencial para <code>DALYTRAN-MERCHANT-ID</code>, devem ser implementadas para evitar inconsistências de dados.</li>
</ul>
</li>
<li><strong>Segurança de Dados:</strong>
<ul>
<li>Informações confidenciais, como <code>DALYTRAN-CARD-NUM</code>, devem ser criptografadas durante a transmissão e armazenamento para proteção contra acesso não autorizado.</li>
<li>Mecanismos de controle de acesso devem ser implementados para restringir o acesso aos dados da transação com base em funções e permissões do usuário.</li>
</ul>
</li>
</ul>
<p><strong>Modelos Relacionados</strong></p>
<ul>
<li><code>DALYTRAN-RECORD</code>: Representa um único registro de transação diária.
<ul>
<li><code>DALYTRAN-ID</code> <code>String</code>: Identificador exclusivo da transação.</li>
<li><code>DALYTRAN-TYPE-CD</code> <code>String</code>: Código do tipo de transação (por exemplo, ‘PUR’, ‘REF’).</li>
<li><code>DALYTRAN-CAT-CD</code> <code>String</code>: Código da categoria de transação (por exemplo, ‘GROC’, ‘FUEL’).</li>
<li><code>DALYTRAN-SOURCE</code> <code>String</code>: Origem da transação (por exemplo, ‘ONLINE’, ‘POS’, ‘ATM’).</li>
<li><code>DALYTRAN-DESC</code> <code>String</code>: Descrição da transação.</li>
<li><code>DALYTRAN-AMT</code> <code>Decimal</code>: Valor da transação.</li>
<li><code>DALYTRAN-MERCHANT-ID</code> <code>String</code>: Identificador do comerciante.</li>
<li><code>DALYTRAN-MERCHANT-NAME</code> <code>String</code>: Nome do comerciante.</li>
<li><code>DALYTRAN-MERCHANT-CITY</code> <code>String</code>: Cidade do comerciante.</li>
<li><code>DALYTRAN-MERCHANT-ZIP</code> <code>String</code>: CEP do comerciante.</li>
<li><code>DALYTRAN-CARD-NUM</code> <code>String</code>: Número do cartão de crédito criptografado.</li>
<li><code>DALYTRAN-ORIG-TS</code> <code>Timestamp</code>: Registro de data e hora de início da transação.</li>
<li><code>DALYTRAN-PROC-TS</code> <code>Timestamp</code>: Registro de data e hora de processamento da transação.</li>
</ul>
</li>
</ul>
<p><strong>Configurações:</strong></p>
<ul>
<li><strong>Códigos de Tipo de Transação:</strong>
<ul>
<li>Armazenado em: <code>TRAN-TYPES.cfg</code></li>
<li>Formato: <code>Código|Descrição</code> (por exemplo, <code>PUR|Compra</code>, <code>REF|Reembolso</code>, <code>CSH|Saque em Dinheiro</code>)</li>
</ul>
</li>
<li><strong>Códigos de Categoria de Transação:</strong>
<ul>
<li>Armazenado em: <code>TRAN-CATS.cfg</code></li>
<li>Formato: <code>Código|Descrição</code> (por exemplo, <code>GROC|Mercearia</code>, <code>FUEL|Combustível</code>, <code>REST|Restaurante</code>)</li>
</ul>
</li>
<li><strong>Chave de Criptografia de Dados:</strong>
<ul>
<li>Armazenado em: Sistema de Gerenciamento de Chaves Seguro</li>
<li>Usado para: Criptografar e descriptografar dados confidenciais (por exemplo, <code>DALYTRAN-CARD-NUM</code>)</li>
</ul>
</li>
</ul>
<p><strong>Melhorias de Código:</strong></p>
<ul>
<li>Implementar um mecanismo de registro para registrar todas as transações e quaisquer erros encontrados durante o processamento. Isso ajudará na auditoria e solução de problemas.</li>
<li>Criar sub-rotinas reutilizáveis para tarefas comuns de validação de dados para melhorar a manutenção do código.</li>
<li>Adicionar comentários ao código para explicar a finalidade de cada campo e a lógica por trás de quaisquer cálculos ou validações.</li>
</ul>
<p><strong>Melhorias de Segurança:</strong></p>
<ul>
<li>Implementar medidas rígidas de controle de acesso para restringir o acesso aos dados <code>DALYTRAN-RECORD</code> com base em funções e permissões do usuário.</li>
<li>Auditar o sistema regularmente para garantir a conformidade com as políticas de segurança e identificar quaisquer vulnerabilidades.</li>
</ul>
<p><strong>Diagrama Conceitual:</strong></p>
<img src="00054-CVTRA06Y_cpy_diagram_1.svg" alt="Mermaid Diagram 1" style="max-width: 100%; height: auto;"><p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
