sequenceDiagram
    participant ReportGenerator
    participant InputFile
    participant OutputFile
    participant LogFile

    activate ReportGenerator
    ReportGenerator->>+InputFile: Open
    InputFile-->>-ReportGenerator: Open Successful
    loop For Each Line in Input File
        ReportGenerator->>+InputFile: Read Line
        InputFile-->>-ReportGenerator: Line Data
        ReportGenerator->>ReportGenerator: Validate Line Data
        alt Validation Successful
            ReportGenerator->>+OutputFile: Write Record
            OutputFile-->>-ReportGenerator: Write Successful
        else Validation Failed
            ReportGenerator->>+LogFile: Log Error
            LogFile-->>-ReportGenerator: Log Successful
        end
    end
    ReportGenerator->>+InputFile: Close
    InputFile->>-ReportGenerator: Close Successful
    ReportGenerator->>+OutputFile: Close
    OutputFile->>-ReportGenerator: Close Successful
    deactivate ReportGenerator