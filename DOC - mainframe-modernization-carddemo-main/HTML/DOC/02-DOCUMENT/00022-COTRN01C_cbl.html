
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00022-COTRN01C_cbl</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1º de outubro de 2024</p>
<h1>CardDemo Recuperação de Detalhes de Transação</h1>
<h2>Título do Documento: CardDemo Recuperação de Detalhes de Transação - Especificação do Programa</h2>
<h2>Arquivo</h2>
<ul>
<li><code>\src\COTRN01C.cbl</code></li>
</ul>
<h2>Descrição Resumida</h2>
<p>Este documento descreve as especificações para o programa “COTRN01C” dentro do aplicativo CardDemo. Este programa foi projetado para que representantes de call center acessem e visualizem rapidamente os detalhes de transações específicas de cartão de crédito, auxiliando no atendimento ao cliente e na verificação de transações.</p>
<h2>Histórico de Versões</h2>
<ul>
<li>CardDemo_v1.0-15-g27d6c6f-68 (19 de julho de 2022): Versão inicial</li>
</ul>
<h2>Descrição do Processo</h2>
<p>O programa “COTRN01C” facilita a recuperação e exibição de detalhes de transações individuais dentro do aplicativo CardDemo. O processo segue estas etapas:</p>
<ol>
<li><strong>Entrada do ID da Transação:</strong> O representante do call center insere um ID de Transação exclusivo no sistema.</li>
<li><strong>Recuperação de Dados:</strong> O programa pesquisa no banco de dados ‘TRANSACT’ um registro que corresponda ao ID da Transação fornecido.</li>
<li><strong>Exibição de Detalhes da Transação:</strong> Se uma correspondência for encontrada, o programa apresenta todos os detalhes relevantes da transação na tela do representante. Isso inclui informações como valor da transação, data, número do cartão, detalhes do comerciante e muito mais.</li>
<li><strong>Tratamento de Erros:</strong> Nos casos em que o ID da Transação inserido está em branco ou não corresponde a nenhum registro no banco de dados, uma mensagem de erro é exibida, solicitando que o representante insira um ID válido.</li>
</ol>
<h2>Requisitos para Iniciar o Processo</h2>
<ol>
<li><strong>Acesso ao Aplicativo CardDemo:</strong> O representante do call center precisa estar conectado ao aplicativo CardDemo.</li>
<li><strong>ID da Transação:</strong> Um ID de Transação válido é necessário para recuperar os detalhes específicos da transação.</li>
</ol>
<h2>Validações e Regras</h2>
<ul>
<li><strong>ID de Transação Exclusivo:</strong> Cada transação dentro do sistema CardDemo recebe um ID exclusivo para garantir a recuperação precisa e evitar ambiguidades.</li>
<li><strong>Controle de Acesso a Dados:</strong> O programa foi projetado para recuperar e exibir apenas informações do banco de dados ‘TRANSACT’ para o ID de Transação específico fornecido, garantindo a segurança dos dados.</li>
<li><strong>Interface Amigável:</strong> Os detalhes da transação são apresentados em um formato fácil de entender na tela do representante, facilitando um atendimento ao cliente eficiente.</li>
</ul>
<h2>Detalhes Técnicos</h2>
<p><strong>Programa Principal:</strong></p>
<ul>
<li><strong>COTRN01C:</strong> Este programa lida com todo o processo de recebimento do ID da Transação, recuperação de dados e exibição das informações.</li>
</ul>
<p><strong>Funções/Métodos:</strong></p>
<ul>
<li><strong>PROCESS-ENTER-KEY:</strong> Esta função processa o ID da Transação inserido, validando-o e iniciando o processo de recuperação de dados.</li>
<li><strong>READ-TRANSACT-FILE:</strong> Esta função lê o banco de dados ‘TRANSACT’ para encontrar e recuperar o registro da transação que corresponde ao ID fornecido.</li>
<li><strong>SEND-TRNVIEW-SCREEN:</strong> Esta função exibe os detalhes da transação recuperada ou mensagens de erro para o representante.</li>
<li><strong>RETURN-TO-PREV-SCREEN:</strong> Esta função permite que o representante retorne à tela anterior.</li>
<li><strong>CLEAR-CURRENT-SCREEN:</strong> Esta função limpa a tela atual, preparando-a para novas entradas ou informações.</li>
<li><strong>INITIALIZE-ALL-FIELDS:</strong> Esta função inicializa todos os campos de dados, garantindo a integridade dos dados.</li>
<li><strong>POPULATE-HEADER-INFO:</strong> Esta função preenche as informações do cabeçalho da tela com os detalhes relevantes.</li>
</ul>
<p><strong>Variáveis:</strong></p>
<ul>
<li><strong>WS-TRANID:</strong> Armazena o código da transação ‘CT01’.</li>
<li><strong>WS-TRANSACT-FILE:</strong> Armazena o nome do arquivo do banco de dados ‘TRANSACT’.</li>
<li><strong>TRAN-ID:</strong> Armazena o ID da Transação inserido.</li>
<li><strong>WS-MESSAGE:</strong> Armazena mensagens a serem exibidas ao usuário, incluindo mensagens de erro.</li>
<li><strong>WS-RESP-CD:</strong> Armazena o código de resposta das operações do banco de dados.</li>
<li><strong>WS-REAS-CD:</strong> Armazena o código de motivo das operações do banco de dados.</li>
<li><strong>ERRMSGO:</strong> Exibe mensagens de erro para o usuário.</li>
<li><strong>TRNIDINI:</strong> Recebe o ID da Transação inserido no campo de entrada.</li>
<li><strong>TRNIDI, CARDNUMI, TTYPCDI, TCATCDI, TRNSRCI, TRNAMTI, TDESCI, TORIGDTI, TPROCDTI, MIDI, MNAMEI, MCITYI, MZIPI:</strong> Essas variáveis armazenam os detalhes da transação recuperada, como ID da Transação, número do cartão, tipo de transação, valor, descrição, timestamps e detalhes do comerciante.</li>
</ul>
<h2>Segurança</h2>
<ul>
<li><strong>Recuperação Segura de Dados:</strong> O programa interage com o banco de dados ‘TRANSACT’ usando procedimentos controlados, garantindo que apenas pessoal autorizado possa acessar os dados.</li>
<li><strong>Restrições de Exibição de Dados:</strong> O programa exibe apenas informações relacionadas ao ID de Transação específico inserido, limitando a exposição de dados.</li>
</ul>
<h2>Impacto em Outros Sistemas</h2>
<ul>
<li><strong>Banco de Dados TRANSACT:</strong> O programa interage diretamente com o banco de dados ‘TRANSACT’ para recuperar os detalhes da transação.</li>
</ul>
<h2>Modelos</h2>
<table>
<thead>
<tr>
<th>Campo de Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td>TRAN-ID</td>
<td>Alfanumérico</td>
<td>Identificador exclusivo para cada transação</td>
</tr>
<tr>
<td>TRAN-CARD-NUM</td>
<td>Numérico</td>
<td>Número do cartão de crédito associado à transação</td>
</tr>
<tr>
<td>TRAN-TYPE-CD</td>
<td>Alfanumérico</td>
<td>Tipo de transação (por exemplo, compra, reembolso)</td>
</tr>
<tr>
<td>TRAN-CAT-CD</td>
<td>Alfanumérico</td>
<td>Categoria da transação (por exemplo, mantimentos, combustível)</td>
</tr>
<tr>
<td>TRAN-SOURCE</td>
<td>Alfanumérico</td>
<td>Origem da transação (por exemplo, online, em loja)</td>
</tr>
<tr>
<td>TRAN-AMT</td>
<td>Numérico</td>
<td>Valor da transação</td>
</tr>
<tr>
<td>TRAN-DESC</td>
<td>Alfanumérico</td>
<td>Descrição da transação</td>
</tr>
<tr>
<td>TRAN-ORIG-TS</td>
<td>Timestamp</td>
<td>Carimbo de data e hora da origem da transação</td>
</tr>
<tr>
<td>TRAN-PROC-TS</td>
<td>Timestamp</td>
<td>Carimbo de data e hora do processamento da transação</td>
</tr>
<tr>
<td>TRAN-MERCHANT-ID</td>
<td>Alfanumérico</td>
<td>Identificador exclusivo para o comerciante</td>
</tr>
<tr>
<td>TRAN-MERCHANT-NAME</td>
<td>Alfanumérico</td>
<td>Nome do comerciante</td>
</tr>
<tr>
<td>TRAN-MERCHANT-CITY</td>
<td>Alfanumérico</td>
<td>Cidade do comerciante</td>
</tr>
<tr>
<td>TRAN-MERCHANT-ZIP</td>
<td>Alfanumérico</td>
<td>CEP do comerciante</td>
</tr>
</tbody>
</table>
<h2>Principais Referências</h2>
<ul>
<li><strong>Banco de Dados TRANSACT:</strong> Este banco de dados armazena todos os detalhes da transação.</li>
<li><strong>COTRN01A (Mapa de Tela):</strong> Define o layout e os campos para exibir os detalhes da transação.</li>
<li><strong>COTRN01 (Mapset):</strong> Agrupa o mapa de tela para a visualização de detalhes da transação.</li>
</ul>
<p><strong>Considerações Adicionais:</strong></p>
<ul>
<li><strong>Registro de Erros:</strong> Implementar o registro de erros pode ajudar a rastrear quaisquer problemas encontrados durante o processo, auxiliando na depuração e melhoria do sistema.</li>
<li><strong>Otimização de Desempenho:</strong> Otimizar as consultas ao banco de dados pode aumentar a velocidade de recuperação da transação.</li>
</ul>
<p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
