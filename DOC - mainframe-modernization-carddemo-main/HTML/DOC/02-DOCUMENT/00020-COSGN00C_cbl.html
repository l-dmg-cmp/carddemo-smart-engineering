
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00020-COSGN00C_cbl</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <p>Gerado em: 1 de outubro de 2024</p>
<h1>Aplicativo CardDemo: Autenticação de Usuário Segura e Controle de Acesso</h1>
<h2>Título</h2>
<ul>
<li>Título do Documento: Aplicativo CardDemo - Especificação do Módulo de Autenticação</li>
</ul>
<h2>Descrição resumida</h2>
<p>Este documento descreve as especificações para o módulo de Autenticação (COSGN00C) dentro do aplicativo CardDemo, um sistema baseado em COBOL projetado para gerenciamento de cartão de crédito. O módulo garante a autenticação segura do usuário, validando as credenciais do usuário em relação aos dados armazenados. Após a verificação bem-sucedida, ele concede aos usuários acesso ao aplicativo com base em suas funções definidas, direcionando-os para as funcionalidades apropriadas.</p>
<h2>Histórico da Versão</h2>
<ul>
<li>CardDemo_v1.0-15-g27d6c6f-68: Implementado redirecionamento baseado em função, medidas de segurança aprimoradas.</li>
</ul>
<h2>Descrição do Processo</h2>
<p>O módulo de Autenticação gerencia o acesso do usuário ao aplicativo CardDemo através das seguintes etapas:</p>
<ol>
<li><strong>Exibir Tela de Autenticação:</strong> O módulo apresenta uma tela solicitando que o usuário insira seu ID de Usuário e Senha.</li>
<li><strong>Capturar Entrada do Usuário:</strong> O sistema captura o ID de Usuário e a Senha inseridos pelo usuário.</li>
<li><strong>Validar Credenciais do Usuário:</strong> Ele verifica se o ID de Usuário inserido existe no sistema. Se encontrado, ele compara a Senha inserida com a Senha criptografada armazenada para aquele ID de Usuário.</li>
<li><strong>Determinar o Tipo de Usuário:</strong> Após a validação bem-sucedida, o sistema identifica a função do usuário (por exemplo, Administrador ou Usuário Regular) a partir dos dados do usuário.</li>
<li><strong>Direcionar o Usuário para o Menu Apropriado:</strong> Com base na função do usuário, o módulo redireciona o usuário para a parte relevante do aplicativo (por exemplo, menu do Administrador ou Menu Principal).</li>
</ol>
<h2>Requisitos para Iniciar o Processo</h2>
<ol>
<li><strong>Ambiente CICS Ativo:</strong> O módulo opera em um ambiente CICS para processamento de transações.</li>
<li><strong>Conjunto de Dados VSAM Disponível:</strong> O acesso ao arquivo VSAM (USRSEC) que armazena as credenciais e funções do usuário é crucial.</li>
<li><strong>Entrada do Usuário:</strong> O usuário precisa fornecer seu ID de Usuário e Senha.</li>
</ol>
<h2>Validações e Regras</h2>
<ul>
<li><strong>Validação de Dados:</strong> O módulo valida a entrada do usuário para caracteres vazios ou inválidos nos campos ID de Usuário e Senha.</li>
<li><strong>Autenticação:</strong> Somente usuários com credenciais válidas (ID de Usuário correto e Senha correspondente) têm acesso concedido.</li>
<li><strong>Autorização:</strong> O acesso do usuário é restrito com base em sua função. Os administradores têm acesso às funções administrativas, enquanto os usuários regulares têm acesso limitado.</li>
</ul>
<h2>Detalhes técnicos</h2>
<p><strong>Programa Principal:</strong></p>
<ul>
<li><strong><code>COSGN00C.cbl</code>:</strong> O programa principal que lida com o processo de autenticação.</li>
</ul>
<p><strong>Funções Principais:</strong></p>
<ul>
<li><strong><code>PROCESS-ENTER-KEY</code>:</strong> Processa a entrada do usuário na tela de autenticação, validando os dados inseridos e iniciando o processo de autenticação.</li>
<li><strong><code>READ-USER-SEC-FILE</code>:</strong> Lê os dados do usuário do arquivo VSAM (USRSEC) com base no ID de Usuário inserido.</li>
<li><strong><code>SEND-SIGNON-SCREEN</code>:</strong> Exibe a tela de autenticação para o usuário.</li>
<li><strong><code>SEND-PLAIN-TEXT</code>:</strong> Exibe mensagens para o usuário.</li>
<li><strong><code>POPULATE-HEADER-INFO</code>:</strong> Preenche as informações do cabeçalho nas telas, incluindo detalhes do aplicativo, data e hora.</li>
</ul>
<p><strong>Variáveis:</strong></p>
<ul>
<li><strong><code>WS-USER-ID</code>:</strong> Armazena o ID de Usuário inserido.</li>
<li><strong><code>WS-USER-PWD</code>:</strong> Armazena a Senha inserida.</li>
<li><strong><code>SEC-USR-PWD</code>:</strong> Recupera a Senha armazenada para o Usuário do arquivo VSAM.</li>
<li><strong><code>SEC-USR-TYPE</code>:</strong> Recupera o tipo de usuário (por exemplo, ‘ADMIN’ ou ‘USER’) do arquivo VSAM.</li>
</ul>
<h2>Segurança</h2>
<ul>
<li><strong>Autenticação:</strong> O módulo realiza a autenticação do usuário comparando a Senha inserida com a Senha armazenada para o ID de Usuário correspondente.</li>
<li><strong>Armazenamento de Senha:</strong> As senhas são armazenadas com segurança no arquivo VSAM. No entanto, o método de criptografia ou hash usado para armazenamento de senha não é especificado no código fornecido.</li>
<li><strong>Controle de Acesso:</strong> O controle de acesso baseado em função é implementado, limitando o acesso do usuário a funções específicas com base em suas funções definidas.</li>
</ul>
<h2>Impacto em Outros Sistemas</h2>
<ul>
<li><strong>Módulos CardDemo:</strong> O módulo de autenticação é crucial para todos os outros módulos dentro do aplicativo CardDemo, pois controla o acesso e a autorização do usuário.</li>
</ul>
<h2>Modelos</h2>
<table>
<thead>
<tr>
<th>Campo de Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td>WS-USER-ID</td>
<td>Alfanumérico (PIC X(08))</td>
<td>Armazena o ID de Usuário inserido pelo usuário durante a autenticação.</td>
</tr>
<tr>
<td>WS-USER-PWD</td>
<td>Alfanumérico (PIC X(08))</td>
<td>Armazena a Senha inserida pelo usuário durante a autenticação.</td>
</tr>
<tr>
<td>SEC-USER-DATA</td>
<td>Item de Grupo</td>
<td>Representa o registro do usuário recuperado do arquivo VSAM (USRSEC), contendo detalhes do usuário como ID de Usuário, Senha e Tipo de Usuário.</td>
</tr>
<tr>
<td>SEC-USR-PWD</td>
<td>Alfanumérico (PIC X(08))</td>
<td>Parte de SEC-USER-DATA, armazena a Senha criptografada para o usuário.</td>
</tr>
<tr>
<td>SEC-USR-TYPE</td>
<td>Alfanumérico (PIC X(01))</td>
<td>Parte de SEC-USER-DATA, armazena o tipo de usuário (por exemplo, ‘A’ para Administrador, ‘U’ para Usuário Regular).</td>
</tr>
<tr>
<td>CDEMO-USER-ID</td>
<td>Alfanumérico (PIC X(08))</td>
<td>Armazena o ID de Usuário na área de comunicação (COMMAREA) para uso por outros módulos dentro do aplicativo.</td>
</tr>
<tr>
<td>CDEMO-USER-TYPE</td>
<td>Alfanumérico (PIC X(01))</td>
<td>Armazena o tipo de usuário na área de comunicação (COMMAREA) para uso por outros módulos.</td>
</tr>
</tbody>
</table>
<h2>Referências Principais</h2>
<ul>
<li><strong><code>USRSEC</code> (Arquivo VSAM):</strong> Armazena as credenciais do usuário (ID de Usuário, Senha) e o tipo de usuário (função).</li>
<li><strong><code>COSGN00</code> (Copybook):</strong> Contém estruturas de dados para a tela de autenticação.</li>
<li><strong><code>CSUSR01Y</code> (Copybook):</strong> Contém estruturas de dados relacionadas às informações do usuário.</li>
<li><strong><code>COCOM01Y</code> (Copybook):</strong> Provavelmente contém estruturas de dados comuns e variáveis usadas em todo o aplicativo CardDemo.</li>
</ul>
<p><strong>Considerações Adicionais:</strong></p>
<ul>
<li><strong>Complexidade da Senha:</strong> Imponha políticas de senha forte, exigindo que os usuários definam senhas complexas.</li>
<li><strong>Gerenciamento de Sessão:</strong> Implemente o gerenciamento de sessão seguro para rastrear as sessões do usuário e impedir o acesso não autorizado.</li>
<li><strong>Log de Auditoria:</strong> Registre todas as tentativas de autenticação, bem-sucedidas e malsucedidas, para auditoria e monitoramento de segurança.</li>
<li><strong>Tratamento de Erros:</strong> Forneça mensagens de erro específicas ao usuário para IDs de usuário, senhas incorretas ou tentativas de acesso não autorizado.</li>
<li><strong>Autenticação Multifator (MFA):</strong> Considere implementar MFA para uma camada adicional de segurança.</li>
</ul>
<p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
