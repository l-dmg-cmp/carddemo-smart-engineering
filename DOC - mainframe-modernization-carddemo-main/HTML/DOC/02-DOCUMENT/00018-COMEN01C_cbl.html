
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>00018-COMEN01C_cbl</title>
    <!-- Incluindo o Bootstrap CSS a partir de CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo o Highlight.js CSS para destaque de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <style>
        body {
            padding: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        /* Estilos personalizados podem ser adicionados aqui */
    </style>
</head>
<body>
    <div class="container">
        <h2>Navegação do Menu Principal do CardDemo</h2>
<h2>Título</h2>
<ul>
<li>Título do Documento: CardDemo Application - Main Menu Program Specification</li>
</ul>
<h2>Arquivo</h2>
<ul>
<li><code>\src\COMEN01C.cbl</code></li>
</ul>
<h2>Descrição Resumida</h2>
<p>Este documento descreve a funcionalidade do programa COMEN01C, que serve como o menu principal para usuários regulares no aplicativo CardDemo. Este programa é responsável por apresentar aos usuários uma lista de ações disponíveis, capturar sua escolha e direcioná-los ao módulo apropriado para execução.</p>
<h2>Histórico de Versões</h2>
<ul>
<li>CardDemo_v1.0-15-g27d6c6f-68: Lançado em 19 de julho de 2022.</li>
</ul>
<h2>Descrição do Processo</h2>
<p>O programa COMEN01C facilita a navegação do usuário pelo aplicativo CardDemo. O fluxo do processo é o seguinte:</p>
<ol>
<li><strong>Exibir Menu:</strong> Após o login bem-sucedido, o programa apresenta um menu com opções numeradas adaptadas ao nível de acesso do usuário (usuários regulares veem opções diferentes dos administradores).</li>
<li><strong>Capturar Escolha:</strong> O usuário insere o número correspondente à ação desejada.</li>
<li><strong>Validar Entrada:</strong> O programa verifica se a entrada é um número válido dentro do intervalo de opções disponíveis e se o usuário está autorizado a executar a ação selecionada.</li>
<li><strong>Direcionar para Ação:</strong> Se a entrada for válida, o programa redireciona o usuário para o módulo de programa correspondente. Por exemplo, a escolha de visualizar os detalhes da conta acionará o módulo de visualização da conta.</li>
<li><strong>Lidar com Entrada Inválida:</strong> Se a entrada for inválida, uma mensagem de erro será exibida, solicitando que o usuário insira uma escolha correta.</li>
</ol>
<h2>Requisitos para Iniciar o Processo</h2>
<ol>
<li><strong>Login do Usuário:</strong> O usuário deve ter efetuado login com sucesso.</li>
<li><strong>Tipo de Usuário:</strong> As opções de menu exibidas dependem se o usuário é um usuário regular ou um administrador.</li>
<li><strong>Opções do Menu:</strong> O programa precisa de um conjunto definido de opções de menu, seus módulos de programa correspondentes e níveis de acesso.</li>
</ol>
<h2>Validações e Regras</h2>
<ul>
<li><strong>Validação de Entrada:</strong> O programa valida se a entrada do usuário é um número, dentro do intervalo permitido e corresponde a uma ação acessível com base em seu tipo de usuário.</li>
<li><strong>Autorização do Usuário:</strong> O programa garante que os usuários só possam acessar funções que têm permissão para usar, impedindo o acesso não autorizado a informações confidenciais ou funcionalidades.</li>
</ul>
<h2>Detalhes técnicos</h2>
<p><strong>Programa Principal:</strong></p>
<ul>
<li><strong><code>COMEN01C.cbl</code>:</strong> O programa COBOL que controla o menu principal.</li>
</ul>
<p><strong>Copybooks:</strong></p>
<ul>
<li><strong><code>COCOM01Y.cbl</code>:</strong> Contém variáveis de comunicação comuns.</li>
<li><strong><code>COMEN02Y.cbl</code>:</strong> Contém variáveis específicas da tela do menu principal.</li>
<li><strong><code>COMEN01.cbl</code>:</strong> Define o layout da tela do menu principal.</li>
<li><strong><code>COTTL01Y.cbl</code>:</strong> Contém informações de título.</li>
<li><strong><code>CSDAT01Y.cbl</code>:</strong> Contém variáveis e rotinas relacionadas à data.</li>
<li><strong><code>CSMSG01Y.cbl</code>:</strong> Contém variáveis e rotinas relacionadas a mensagens.</li>
<li><strong><code>CSUSR01Y.cbl</code>:</strong> Contém variáveis e rotinas relacionadas ao usuário.</li>
</ul>
<p><strong>Comandos CICS:</strong></p>
<ul>
<li><strong><code>SEND</code>:</strong> Usado para exibir a tela do menu.</li>
<li><strong><code>RECEIVE</code>:</strong> Usado para capturar a entrada do usuário.</li>
<li><strong><code>XCTL</code>:</strong> Usado para transferir o controle para outros módulos do programa.</li>
</ul>
<p><strong>Variáveis:</strong></p>
<ul>
<li><strong><code>WS-OPTION</code>:</strong> Armazena a opção de menu escolhida pelo usuário.</li>
<li><strong><code>CDEMO-MENU-OPT-COUNT</code>:</strong> Mantém o número total de opções de menu.</li>
<li><strong><code>CDEMO-MENU-OPT-PGMNAME</code>:</strong> Uma matriz que armazena os nomes dos programas associados a cada opção de menu.</li>
<li><strong><code>CDEMO-USRTYP-USER</code>:</strong> Um indicador que indica se o usuário atual é um usuário regular.</li>
<li><strong><code>CDEMO-MENU-OPT-USRTYPE</code>:</strong> Uma matriz que indica o tipo de usuário permitido para cada opção de menu.</li>
</ul>
<p><strong>Métodos/Parágrafos:</strong></p>
<ul>
<li><strong><code>MAIN-PARA</code>:</strong> O procedimento principal que controla o fluxo do programa.</li>
<li><strong><code>PROCESS-ENTER-KEY</code>:</strong> Processa a seleção do usuário depois que ele pressiona a tecla Enter.</li>
<li><strong><code>RETURN-TO-SIGNON-SCREEN</code>:</strong> Retorna o usuário para a tela de login.</li>
<li><strong><code>SEND-MENU-SCREEN</code>:</strong> Exibe a tela do menu principal.</li>
<li><strong><code>RECEIVE-MENU-SCREEN</code>:</strong> Recebe a entrada do usuário da tela do menu.</li>
<li><strong><code>POPULATE-HEADER-INFO</code>:</strong> Preenche as informações do cabeçalho na tela.</li>
<li><strong><code>BUILD-MENU-OPTIONS</code>:</strong> Cria dinamicamente as opções de menu com base no tipo de usuário.</li>
</ul>
<h2>Segurança</h2>
<ul>
<li><strong>Controle de Acesso:</strong> O programa aplica o controle de acesso exibindo apenas as opções de menu que o usuário está autorizado a usar.</li>
<li><strong>Validação de Entrada:</strong> A validação de entrada evita potenciais vulnerabilidades de entrada inesperada, aumentando a segurança do aplicativo.</li>
</ul>
<h2>Impacto em Outros Sistemas</h2>
<ul>
<li><strong>Gerenciamento de Usuários:</strong> O programa depende da autenticação do usuário e dos dados de autorização do sistema de gerenciamento de usuários.</li>
<li><strong>Módulos do Programa:</strong> O menu principal atua como um hub central, conectando-se a outros módulos do programa, como visualização de conta, lista de transações, etc.</li>
</ul>
<h2>Modelos</h2>
<table>
<thead>
<tr>
<th>Campo de Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CDEMO-MENU-OPT-NUM</code></td>
<td>Matriz de Strings</td>
<td>Armazena o número exibido para cada opção de menu.</td>
</tr>
<tr>
<td><code>CDEMO-MENU-OPT-NAME</code></td>
<td>Matriz de Strings</td>
<td>Armazena os nomes descritivos de cada opção de menu.</td>
</tr>
<tr>
<td><code>CDEMO-MENU-OPT-PGMNAME</code></td>
<td>Matriz de Strings</td>
<td>Armazena os nomes dos programas associados a cada opção de menu.</td>
</tr>
<tr>
<td><code>CDEMO-MENU-OPT-USRTYPE</code></td>
<td>Matriz de Strings</td>
<td>Indica o tipo de usuário (por exemplo, ‘U’ para usuários regulares, ‘A’ para administradores) permitido para cada opção de menu.</td>
</tr>
</tbody>
</table>
<h2>Principais Referências</h2>
<ul>
<li><strong>CICS (Customer Information Control System):</strong> O sistema de processamento de transações usado.</li>
<li><strong>BMS (Basic Mapping Support):</strong> Usado para definir e gerenciar layouts de tela.</li>
<li><strong>COBOL Copybooks:</strong> Módulos de código reutilizáveis contendo estruturas de dados e lógica compartilhadas pelo aplicativo.</li>
</ul>
<p>–Made by “Smart Engineering” (by Compass.UOL)–</p>

    </div>
    <!-- Incluindo o jQuery e o Bootstrap JS a partir de CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Incluindo o Highlight.js JS para destaque de código -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>
</html>
