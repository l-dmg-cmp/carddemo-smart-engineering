sequenceDiagram
    participant Daily Transaction Processing System
    participant dailytran.txt
    participant Database
    participant Reports

    activate Daily Transaction Processing System

    Daily Transaction Processing System->>+dailytran.txt: Open
    dailytran.txt->>Daily Transaction Processing System: Opened

    loop For Each Transaction
        Daily Transaction Processing System->>+dailytran.txt: Read Transaction
        dailytran.txt->>Daily Transaction Processing System: Transaction Data
        Daily Transaction Processing System->>Daily Transaction Processing System: Validate Transaction Data
        alt Valid Transaction
            Daily Transaction Processing System->>+Database: Store Transaction
            Database-->>-Daily Transaction Processing System: Transaction Stored
        else Invalid Transaction
            Daily Transaction Processing System->>Daily Transaction Processing System: Log Error
        end
    end

    Daily Transaction Processing System->>+dailytran.txt: Close
    dailytran.txt->>-Daily Transaction Processing System: Closed

    Daily Transaction Processing System->>+Reports: Generate Reports
    Reports->>-Daily Transaction Processing System: Reports Generated

    deactivate Daily Transaction Processing System